{"meta":{"title":"ä»é›¶å¼€å§‹çš„å°ç«™","subtitle":null,"description":"é‡äº‹ä¸å†³ï¼Œå¯é—®æ˜¥é£","author":"AmyZ","url":""},"pages":[{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2020-08-01T07:02:13.537Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"about","date":"2020-08-01T14:14:36.000Z","updated":"2020-08-01T07:01:50.087Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[Re:ã‚¼ãƒ­ã‹ã‚‰ã®å°ç«™~AmyZ] ä¸&nbsp; AmyZ&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2020-08-01T13:01:03.044Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2020-08-01T12:40:06.566Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"theme-sakura","date":"2020-08-01T14:53:25.000Z","updated":"2020-08-01T06:45:36.281Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"å…³äºJavaçš„ä¸€äº›æ¯”è¾ƒæ‚çš„çŸ¥è¯†","slug":"some-java-think","date":"2020-08-02T02:48:02.000Z","updated":"2020-08-02T07:07:42.655Z","comments":true,"path":"some-java-think/","link":"","permalink":"/some-java-think/","excerpt":"","text":"æ“ä½œç³»ç»Ÿï¼šè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Œè¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼ï¼Œçº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼Œä¿¡å·é‡çš„å®ç°åŸç†1ã€è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«è¿›ç¨‹æ˜¯è¿è¡Œä¸­çš„ç¨‹åºï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­å†…éƒ¨çš„æ‰§è¡Œåºåˆ—ã€‚è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„å•å…ƒï¼Œçº¿ç¨‹æ˜¯æ‰§è¡Œå•å…ƒã€‚è¿›ç¨‹ä¹‹é—´åˆ‡æ¢è€—æ—¶å¤§ï¼Œçº¿ç¨‹ä¹‹é—´åˆ‡æ¢è€—æ—¶å°ã€‚è¿›ç¨‹å çš„èµ„æºå¤šï¼Œçº¿ç¨‹å çš„èµ„æºå°‘ã€‚å¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹ä¸­çš„èµ„æºã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"reprinted articles","slug":"reprinted-articles","date":"2020-08-01T11:14:41.000Z","updated":"2020-08-01T11:21:12.508Z","comments":true,"path":"reprinted-articles/","link":"","permalink":"/reprinted-articles/","excerpt":"","text":"è½¬è½½æµ‹è¯•","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"/categories/è½¬è½½/"}],"tags":[],"keywords":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"/categories/è½¬è½½/"}]},{"title":"suixiang-test","slug":"suixiang-test","date":"2020-08-01T11:03:19.000Z","updated":"2020-08-01T11:21:22.877Z","comments":true,"path":"suixiang-test/","link":"","permalink":"/suixiang-test/","excerpt":"","text":"éšæƒ³æµ‹è¯•","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"/categories/éšæƒ³/"}],"tags":[],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"/categories/éšæƒ³/"}]},{"title":"Prometheus+Grafanaå®‰è£…åŠä½¿ç”¨","slug":"prometheus-grafana","date":"2020-08-01T05:47:15.000Z","updated":"2020-08-01T11:21:29.360Z","comments":true,"path":"prometheus-grafana/","link":"","permalink":"/prometheus-grafana/","excerpt":"","text":"Prometheuså®‰è£…åŠä½¿ç”¨è¯¥å›¾è¯´æ˜äº†æ™®ç½—ç±³ä¿®æ–¯ï¼ˆPrometheusï¼‰åŠå…¶ä¸€äº›ç”Ÿæ€ç³»ç»Ÿç»„ä»¶çš„æ•´ä½“æ¶æ„ï¼š æˆ‘ä»¬ç”¨åˆ°äº†ä¸‹é¢exporterï¼šnode_exporter â€“ ç”¨äºæœºå™¨ç³»ç»Ÿæ•°æ®æ”¶é›†ï¼ˆä¸»è¦æ˜¯cpuç­‰ä¿¡æ¯çš„æ”¶é›†ï¼‰ é¦–å…ˆå®‰è£…GOæ¯ä¸ªéœ€è¦æ£€æµ‹çš„æœåŠ¡å™¨éƒ½è¦å®‰è£…go $ yum install go $ go version $ go version go1.6.3 linux/amd64 ä¸‹è½½å®‰è£…Prometheusï¼ˆhttps://prometheus.io/download/ï¼‰$ wget https://github.com/prometheus/prometheus/releases/download/v2.3.0/prometheus-2.3.0.linux-amd64.tar.gz $ tar zxvf prometheus-2.3.0.linux-amd64.tar.gz -C /usr/local/ $ ln -sv /usr/local/prometheus-2.3.0.linux-amd64/ /usr/local/prometheus $ cd /usr/local/prometheus é¦–å…ˆï¼Œåœ¨åˆ›é€ ä¸Šçš„ä¸»æœºæ–‡ä»¶ç³»ç»Ÿçš„æœ€å°Prometheusé…ç½®æ–‡ä»¶prometheus.yml ï¼ˆæ›¿æ¢ä½ è¦ç›‘æ§çš„IPåœ°å€ï¼‰ï¼š # my global config global: scrape_interval: 15s # Set the scrape interval to every 15 seconds. Default is every 1 minute. evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute. # scrape_timeout is set to the global default (10s). # Alertmanager configuration alerting: alertmanagers: - static_configs: - targets: # - alertmanager:9093 # Load rules once and periodically evaluate them according to the global &#39;evaluation_interval&#39;. rule_files: # - &quot;first_rules.yml&quot; # - &quot;second_rules.yml&quot; # A scrape configuration containing exactly one endpoint to scrape: # Here it&#39;s Prometheus itself. scrape_configs: # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config. - job_name: &#39;prometheus&#39; # metrics_path defaults to &#39;/metrics&#39; # scheme defaults to &#39;http&#39;. static_configs: - targets: [&#39;localhost:9090&#39;] - job_name: linux static_configs: - targets: [&#39;192.168.5.71:9100&#39;,&#39;192.168.5.73:9100&#39;] 192.168.5.73æ˜¯æˆ‘ä»¬å¦ä¸€ä¸ªæœåŠ¡å™¨çš„IPï¼Œç«¯å£åˆ™æ˜¯å¯¹åº”çš„exporterçš„ç›‘å¬ç«¯å£ã€‚ å¯åŠ¨Prometheus$ ./prometheus --config.file=prometheus.yml å¦‚æœæƒ³åå°è¿è¡Œçš„è¯å°±ç”¨nohup $ nohup ./prometheus --config.file=prometheus.yml &amp; Prometheuså†…ç½®äº†ä¸€ä¸ªwebç•Œé¢ï¼Œæˆ‘ä»¬å¯é€šè¿‡http://monitor_host:9090è¿›è¡Œè®¿é—®ï¼š å®‰è£…å¹¶è¿è¡Œexporterä¸‹è½½exporterså¹¶è§£å‹åˆ°è¢«ç›‘æ§ç«¯æœåŠ¡å™¨ï¼š $ wget https://github.com/prometheus/node_exporter/releases/download/v0.14.0/node_exporter-0.14.0.linux-amd64.tar.gz $ tar xvf node_exporter-0.14.0.linux-amd64.tar.gz -C /usr/local/ $ nohup /usr/local/node_exporter-0.14.0.linux-amd64/node_exporter &amp; æˆ‘ä»¬å†æ¬¡å›åˆ°Status-&gt;Targetsé¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªTargetçš„çŠ¶æ€å·²ç»å˜æˆUPäº†:Prometheusè‡ªå¸¦çš„å›¾å½¢å¹¶ä¸å¤Ÿå¼ºå¤§ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Grafanaä½œä¸ºPrometheusçš„Dashboardã€‚ å®‰è£…è¿è¡ŒGrafanaGrafanaå®‰è£…é…ç½®ä»‹ç»$ wget https://s3-us-west-2.amazonaws.com/grafana-releases/release/grafana-4.2.0-1.x86_64.rpm $ sudo yum localinstall grafana-4.2.0-1.x86_64.rpm ç¼–è¾‘é…ç½®æ–‡ä»¶/etc/grafana/grafana.iniï¼Œä¿®æ”¹dashboards.jsonæ®µè½ä¸‹ä¸¤ä¸ªå‚æ•°çš„å€¼ï¼š [dashboards.json] enabled = true path = /var/lib/grafana/dashboard å®‰è£…ä»ªè¡¨ç›˜ï¼ˆPerconaæä¾›ï¼‰$ git clone https://github.com/percona/grafana-dashboards.git $ cp -r grafana-dashboards/dashboards /var/lib/grafana è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¸ºGrafanaæ‰“ä¸ªè¡¥ä¸ï¼Œä¸ç„¶å›¾è¡¨ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºï¼š $ sed -i &#39;s/expr=\\(.\\)\\.replace(\\(.\\)\\.expr,\\(.\\)\\.scopedVars\\(.*\\)var \\(.\\)=\\(.\\)\\.interval/expr=\\1.replace(\\2.expr,\\3.scopedVars\\4var \\5=\\1.replace(\\6.interval, \\3.scopedVars)/&#39; /usr/share/grafana/public/app/plugins/datasource/prometheus/datasource.js $ sed -i &#39;s/,range_input/.replace(\\/&quot;{\\/g,&quot;\\\\&quot;&quot;).replace(\\/}&quot;\\/g,&quot;\\\\&quot;&quot;),range_input/; s/step_input:&quot;&quot;/step_input:this.target.step/&#39; /usr/share/grafana/public/app/plugins/datasource/prometheus/query_ctrl.js æœ€åæˆ‘ä»¬è¿è¡ŒGrafanaæœåŠ¡$ systemctl daemon-reload $ systemctl start grafana-server $ systemctl status grafana-server æˆ‘ä»¬å¯é€šè¿‡http://monitor_host:3000è®¿é—®Grafanaç½‘é¡µç•Œé¢ï¼ˆç¼ºçœçš„å¸å·/å¯†ç ä¸ºadmin/adminï¼‰: ç»™Grafanaæ·»åŠ æ•°æ®æºï¼Œæ•°æ®æºæœ‰å¤šç§ï¼Œä¾‹å¦‚ï¼šGraphiteã€CloudWatchã€Elasticsearchã€InfluxDBã€OpenTSDBã€Prometheusã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç”¨Prometheusï¼š ä¸‹é¢æ˜¯å±•ç¤ºéƒ¨åˆ†æ•°æ®åˆ†æå›¾ï¼š GrafanaåŸºæœ¬æ¦‚å¿µä»¥åŠä½¿ç”¨Data Sourceï¼šgrafanaç¡®åˆ‡çš„è¯´æ˜¯ä¸€ä¸ªå‰ç«¯å±•ç¤ºå·¥å…·ï¼Œå°†æ•°æ®ä»¥éå¸¸ç¾è§‚ç›´æ¥çš„å›¾å½¢å±•ç¤ºå‡ºæ¥ã€‚é‚£ä¹ˆè¿™äº›æ•°æ®å¿…é¡»æœ‰ä¸€ä¸ªæ¥æºå§ï¼Œgrafanaè·å–æ•°æ®çš„åœ°æ–¹å°±ç§°ä¸ºData Sourceã€‚å®˜æ–¹æ–‡æ¡£ä¸Šè¯´grafanaæ”¯æŒä»¥ä¸‹æ•°æ®æºï¼šGraphite, InfluxDB, OpenTSDB, Prometheus, Elasticsearch, CloudWatchã€‚åœ¨Grafana 3.0+ä¹‹åï¼Œgrafanaä¸ä»…ä»…æ”¯æŒä¸Šé¢è¯´çš„è¿™äº›æ•°æ®æºï¼Œè¿˜æ”¯æŒä¸€äº›å…¶å®ƒçš„æ•°æ®æºï¼Œè¿™äº›å°±ç§°ä¸ºGrafana Pluginsï¼Œgrafanaæ”¯æŒçš„æ’ä»¶éå¸¸å¤šï¼ˆgrafanaæ”¯æŒçš„æ’ä»¶ä¼ é€é—¨ï¼‰ï¼Œåªè¦åšä¸€äº›ç®€å•çš„æ’ä»¶å®‰è£…é…ç½®ï¼Œä½ å°±èƒ½è·å–ä¸°å¯Œçš„æ•°æ®æºï¼Œåé¢çš„æ–‡ç« ä¼šè®²è§£å¦‚ä½•å®‰è£…é…ç½®ä½¿ç”¨grafana-zabbixï¼Œelasticsearchç­‰æ’ä»¶ã€‚ DashBoardï¼šä»ªè¡¨ç›˜ï¼Œå°±åƒæ±½è½¦ä»ªè¡¨ç›˜ä¸€æ ·å¯ä»¥å±•ç¤ºå¾ˆå¤šä¿¡æ¯ï¼ŒåŒ…æ‹¬è½¦é€Ÿï¼Œæ°´ç®±æ¸©åº¦ç­‰ã€‚Grafanaçš„DashBoardå°±æ˜¯ä»¥å„ç§å›¾å½¢çš„æ–¹å¼æ¥å±•ç¤ºä»Datasourceæ‹¿åˆ°çš„æ•°æ®ã€‚ Rowï¼šDashBoardçš„åŸºæœ¬ç»„æˆå•å…ƒï¼Œä¸€ä¸ªDashBoardå¯ä»¥åŒ…å«å¾ˆå¤šä¸ªrowã€‚ä¸€ä¸ªrowå¯ä»¥å±•ç¤ºä¸€ç§ä¿¡æ¯æˆ–è€…å¤šç§ä¿¡æ¯çš„ç»„åˆï¼Œæ¯”å¦‚ç³»ç»Ÿå†…å­˜ä½¿ç”¨ç‡ï¼ŒCPUäº”åˆ†é’ŸåŠååˆ†é’Ÿå¹³å‡è´Ÿè½½ç­‰ã€‚æ‰€ä»¥åœ¨ä¸€ä¸ªDashBoardä¸Šå¯ä»¥é›†ä¸­å±•ç¤ºå¾ˆå¤šå†…å®¹ã€‚ Panelï¼šé¢æ¿ï¼Œå®é™…ä¸Šå°±æ˜¯rowå±•ç¤ºä¿¡æ¯çš„æ–¹å¼ï¼Œæ”¯æŒè¡¨æ ¼ï¼ˆtableï¼‰ï¼Œåˆ—è¡¨ï¼ˆalert listï¼‰ï¼Œçƒ­å›¾ï¼ˆHeatmapï¼‰ç­‰å¤šç§æ–¹å¼ï¼Œå…·ä½“å¯ä»¥å»å®˜ç½‘ä¸ŠæŸ¥é˜…ã€‚ Query Editorï¼šç”¨æ¥æŒ‡å®šè·å–å“ªä¸€éƒ¨åˆ†æ•°æ®ã€‚ç±»ä¼¼äºsqlæŸ¥è¯¢è¯­å¥ï¼Œæ¯”å¦‚ä½ è¦åœ¨æŸä¸ªrowé‡Œé¢å±•ç¤ºtestè¿™å¼ è¡¨çš„æ•°æ®ï¼Œé‚£ä¹ˆQuery Editoré‡Œé¢å°±å¯ä»¥å†™æˆselect *from testã€‚è¿™åªæ˜¯ä¸€ç§æ¯”æ–¹ï¼Œå®é™…ä¸Šæ¯ä¸ªDataSourceè·å–æ•°æ®çš„æ–¹å¼éƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å†™æ³•ä¹Ÿä¸ä¸€æ ·ï¼Œæ¯”å¦‚åƒzabbixï¼Œæ•°æ®æ˜¯ä»¥æŒ‡å®šæŸä¸ªç›‘æ§é¡¹çš„æ–¹å¼æ¥è·å–çš„ã€‚ Organizationï¼šorgæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ¦‚å¿µï¼Œæ¯ä¸ªç”¨æˆ·å¯ä»¥æ‹¥æœ‰å¤šä¸ªorgï¼Œgrafanaæœ‰ä¸€ä¸ªé»˜è®¤çš„main orgã€‚ç”¨æˆ·ç™»å½•åå¯ä»¥åœ¨ä¸åŒçš„orgä¹‹é—´åˆ‡æ¢ï¼Œå‰ææ˜¯è¯¥ç”¨æˆ·æ‹¥æœ‰å¤šä¸ªorgã€‚ä¸åŒçš„orgä¹‹é—´å®Œå…¨ä¸ä¸€æ ·ï¼ŒåŒ…æ‹¬datasourceï¼Œdashboardç­‰éƒ½ä¸ä¸€æ ·ã€‚åˆ›å»ºä¸€ä¸ªorgå°±ç›¸å½“äºå¼€äº†ä¸€ä¸ªå…¨æ–°çš„è§†å›¾ï¼Œæ‰€æœ‰çš„datasourceï¼Œdashboardç­‰éƒ½è¦å†é‡æ–°å¼€å§‹åˆ›å»ºã€‚ Userï¼šè¿™ä¸ªæ¦‚å¿µåº”è¯¥å¾ˆç®€å•ï¼Œä¸ç”¨å¤šè¯´ã€‚Grafanaé‡Œé¢ç”¨æˆ·æœ‰ä¸‰ç§è§’è‰²admin,editor,viewerã€‚adminæƒé™æœ€é«˜ï¼Œå¯ä»¥æ‰§è¡Œä»»ä½•æ“ä½œï¼ŒåŒ…æ‹¬åˆ›å»ºç”¨æˆ·ï¼Œæ–°å¢Datasourceï¼Œåˆ›å»ºDashBoardã€‚editorè§’è‰²ä¸å¯ä»¥åˆ›å»ºç”¨æˆ·ï¼Œä¸å¯ä»¥æ–°å¢Datasourceï¼Œå¯ä»¥åˆ›å»ºDashBoardã€‚viewerè§’è‰²ä»…å¯ä»¥æŸ¥çœ‹DashBoardã€‚åœ¨2.1ç‰ˆæœ¬åŠä¹‹åæ–°å¢äº†ä¸€ç§è§’è‰²read only editorï¼ˆåªè¯»ç¼–è¾‘æ¨¡å¼ï¼‰ï¼Œè¿™ç§æ¨¡å¼å…è®¸ç”¨æˆ·ä¿®æ”¹DashBoardï¼Œä½†æ˜¯ä¸å…è®¸ä¿å­˜ã€‚æ¯ä¸ªuserå¯ä»¥æ‹¥æœ‰å¤šä¸ªorganizationã€‚ prometheusç›‘æ§è®¾å¤‡åŸºç¡€é¡¹ç®€å•æ•´ç†ä¸€äº›å¸¸è§„çš„ç›‘æ§æŸ¥è¯¢è¯­å¥ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»grafanaå®˜ç½‘ä¸‹è½½ç›¸å…³çš„æ¨¡æ¿ï¼Œæ¨¡æ¿ä¸­æœ‰ç›¸å½“é«˜æ•ˆä¼˜è´¨çš„æŸ¥è¯¢è¯­å¥ï¼Œæ¨èä½¿ç”¨æ¨¡æ¿ cpuä¸€åˆ†é’Ÿè´Ÿè½½node_load1 cpuäº”åˆ†é’Ÿè´Ÿè½½node_load5 cpuåäº”åˆ†é’Ÿè´Ÿè½½node_load15 å†…å­˜æ€»é‡node_memory_MemTotal å ç”¨å†…å­˜ï¼ˆä¸å‡†ç¡®ï¼‰node_memory_MemTotal-node_memory_MemFree å¯ç”¨å†…å­˜node_memory_MemFree å¯ç”¨ç©ºé—´node_filesystem_avail{device=~â€/dev/.+â€} æ€»ç©ºé—´node_filesystem_size{device=~â€/dev/.+â€} å·²ç”¨ç©ºé—´node_filesystem_size{device=~â€/dev/.+â€}-node_filesystem_avail{device=~â€/dev/.+â€} IOè¯»bytenode_disk_bytes_read{device=~â€sd.+â€} IOå†™bytenode_disk_bytes_written{device=~â€sd.+â€} æ¥æ”¶æµé‡ç»Ÿè®¡node_network_receive_bytes{device=~â€eth.+â€} å‘é€æµé‡ç»Ÿè®¡node_network_transmit_bytes{device=~â€eth.+â€} è¿è¡Œæ—¶é—´node_boot_time PrometheusæŸ¥è¯¢Prometheusæä¾›äº†ä¸€ç§åŠŸèƒ½è¡¨è¾¾å¼è¯­è¨€ï¼Œå…è®¸ç”¨æˆ·å®æ—¶é€‰æ‹©å’Œæ±‡æ€»æ—¶é—´åºåˆ—æ•°æ®ã€‚è¡¨è¾¾å¼çš„ç»“æœå¯ä»¥æ˜¾ç¤ºä¸ºå›¾å½¢ï¼Œåœ¨Prometheusçš„è¡¨è¾¾å¼æµè§ˆå™¨ä¸­æ˜¾ç¤ºä¸ºè¡¨æ ¼æ•°æ®ï¼Œæˆ–è€…ç”±å¤–éƒ¨ç³»ç»Ÿé€šè¿‡HTTP APIä½¿ç”¨ã€‚ å‡å¦‚æˆ‘è¦è®¡ç®—go_gc_duration_seconds_sumï¼Œåœ¨Metricsé‡Œçš„queryå†™ä¸‹ go_gc_duration_seconds_sum ï¼ˆæ³¨æ„ï¼šPanel data sourceä¸è¦é€‰é”™ï¼Œé€‰æ‹©ä½ ä¸€å¼€å§‹è®¾å®šçš„æ•°æ®æºï¼‰å¦‚ä¸‹å›¾ï¼š =ï¼šé€‰æ‹©ä¸æä¾›çš„å­—ç¬¦ä¸²å®Œå…¨ç›¸åŒçš„æ ‡ç­¾ã€‚ !=ï¼šé€‰æ‹©ä¸ç­‰äºæä¾›çš„å­—ç¬¦ä¸²çš„æ ‡ç­¾ã€‚ =~ï¼šé€‰æ‹©æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æä¾›çš„å­—ç¬¦ä¸²ï¼ˆæˆ–å­å­—ç¬¦ä¸²ï¼‰çš„æ ‡ç­¾ã€‚ !~ï¼šé€‰æ‹©ä¸ä¸æä¾›çš„å­—ç¬¦ä¸²ï¼ˆæˆ–å­å­—ç¬¦ä¸²ï¼‰æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ ‡ç­¾ã€‚ å¯ä»¥é€šè¿‡{}æ¥è¿›è¡Œç›‘æµ‹æœåŠ¡å™¨çš„è¿‡æ»¤ï¼Œä¾‹å¦‚é€‰æ‹©job=â€œlinuxâ€çš„æœåŠ¡å™¨ï¼Œåœ¨Metricsé‡Œçš„queryå†™ä¸‹ï¼š go_gc_duration_seconds_sum{job=&quot;linux&quot;} å¦‚ä¸‹å›¾ï¼šå½“ç„¶å¯ä»¥é€‰æ‹©è‡ªå·±æƒ³è¦ç›‘æ§çš„æœåŠ¡å™¨åç§°ï¼Œä¾‹å¦‚é€‰æ‹©71å’Œ73è¿™ä¸¤ä¸ªæœåŠ¡å™¨ï¼Œåœ¨Metricsé‡Œçš„queryå†™ä¸‹ï¼š go_gc_duration_seconds_sum{instance=~&quot;192.168.5.71:9100|192.168.5.73:9100&quot;} å¦‚ä¸‹å›¾ï¼š å¦‚æœè®¡ç®—è¿ä¸ªæœåŠ¡å™¨æ•°æ®çš„å’Œï¼Œåœ¨è¡¨è¾¾å¼å‰åŠ sum(),è‹¥æœæ˜¯æ±‚å¹³å‡ï¼ŒåŠ avgï¼ˆï¼‰ï¼Œè¿™é‡Œç®—æ±‚å’Œï¼Œåœ¨Metricsé‡Œçš„queryå†™ä¸‹ï¼š sum(go_gc_duration_seconds_sum{instance=~&quot;192.168.5.71:9100|192.168.5.73:9100&quot;}) ï¼ˆæ³¨æ„ï¼šLegend formatå¯ä»¥ç¼–å†™ä½ ç®—å‡ºæ¥çš„è¡¨è¾¾å¼çš„åå­—ï¼‰å¦‚ä¸‹å›¾ï¼š åŒç†ï¼Œå…¶ä»–èšåˆå‡½æ•°å¦‚å¹³å‡avg(),æœ€å°min()ï¼Œæœ€å¤§max()ç­‰ç­‰ã€‚ å¦‚æœä¸€ä¸ªæŸ¥è¯¢æ–¹æ³•ç»å¸¸ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š sum(go_gc_duration_seconds_sum{instance=~&quot;192.168.5.71:9100|192.168.5.73:9100&quot;}) =~å¯ä»¥æ­é…é€šé…ç¬¦æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š go_gc_duration_seconds_sum{instance=~&quot;.*:9100&quot;} æ„æ€ä¸ºæŠŠæ‰€æœ‰åç¼€ä¸º:9100çš„instanceå…¨éƒ¨è®¡ç®—å‡ºæ¥ã€‚å¸¸ç”¨çš„è¡¨è¾¾å¼å†™å…¥ruleæ–‡ä»¶ä¸­ï¼Œå†™å…¥ä¹‹åï¼Œåœ¨åœ¨Metricsé‡Œçš„queryä¸­å†™ä½ å®šä¹‰çš„recordä¸­çš„åå­—å³å¯ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯åœ¨æ”¶é›†æ•°æ®æ—¶åœ¨æ—¶åºæ•°æ®åº“ä¸­å°±å·²ç»å­˜å¥½äº†ä½ è¦æŸ¥è¯¢çš„å€¼ï¼Œç›´æ¥è°ƒç”¨å³å¯ï¼Œä¸ç”¨å†æ¬¡è®¡ç®—ï¼ŒèŠ‚çœCPUã€‚ rate(æŸ¥è¯¢è¯­å¥)[5m] ä»£è¡¨5åˆ†é’Ÿå†…çš„æ•°æ® ç‚¹è¿™é‡ŒæŸ¥çœ‹æ›´å¤šæŸ¥è¯¢è¯­æ³•Prometheuså½•åˆ¶è§„åˆ™å½•åˆ¶è§„åˆ™å…è®¸æ‚¨é¢„å…ˆè®¡ç®—ç»å¸¸éœ€è¦æˆ–è®¡ç®—æˆæœ¬é«˜çš„è¡¨è¾¾å¼ï¼Œå¹¶å°†å…¶ç»“æœä¿å­˜ä¸ºä¸€ç»„æ–°çš„æ—¶é—´åºåˆ—ã€‚å› æ­¤ï¼ŒæŸ¥è¯¢é¢„å…ˆè®¡ç®—çš„ç»“æœé€šå¸¸æ¯”æ¯æ¬¡éœ€è¦æ—¶æ‰§è¡ŒåŸå§‹è¡¨è¾¾å¼å¿«å¾—å¤šã€‚è¿™å¯¹äºä»ªè¡¨æ¿å°¤å…¶æœ‰ç”¨ï¼Œä»ªè¡¨æ¿éœ€è¦åœ¨æ¯æ¬¡åˆ·æ–°æ—¶é‡å¤æŸ¥è¯¢ç›¸åŒçš„è¡¨è¾¾å¼ã€‚ è§„åˆ™æ–‡ä»¶çš„è¯­æ³•æ˜¯ï¼šgroups: [ - &lt;rule_group&gt; ] ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹è§„åˆ™æ–‡ä»¶æ˜¯ï¼šgroups: - name: example rules: - record: job:http_inprogress_requests:sum expr: sum(http_inprogress_requests) by (job) &lt;rule_group&gt;# The name of the group. Must be unique within a file. name: &lt;string&gt; # How often rules in the group are evaluated. [ interval: &lt;duration&gt; | default = global.evaluation_interval ] rules: [ - &lt;rule&gt; ... ] PrometheusåŠ¨æ€é…ç½®ç›®æ ‡æœ€ç®€å•çš„é…ç½®æ˜¯é™æ€ç›®æ ‡ï¼š scrape_configs: - job_name: &#39;prometheus&#39; static_configs: - targets: [&#39;localhost:9090&#39;, &#39;localhost:9100&#39;] labels: group: &#39;prometheus&#39; æ›´æ”¹æ­¤æ–‡ä»¶åï¼Œå¯ä»¥å‘é€ SIGHUP è§¦å‘é…ç½®é‡æ–°åŠ è½½ã€‚Prometheus æä¾›äº†æœåŠ¡å‘ç°åŠŸèƒ½ï¼Œå¯ä»¥ä» consul, dns, kubernetes, file ç­‰ç­‰å¤šç§æ¥æºå‘ç°æ–°çš„ç›®æ ‡ã€‚ å…¶ä¸­æœ€ç®€å•çš„æ˜¯ä»æ–‡ä»¶å‘ç°æœåŠ¡ã€‚ ä¾‹å¦‚ /usr/local/prometheus/prometheus.yml é…ç½®å¦‚ä¸‹ï¼š # my global config global: scrape_interval: 15s # Set the scrape interval to every 15 seconds. Default is every 1 minute. evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute. # scrape_timeout is set to the global default (10s). # Alertmanager configuration alerting: alertmanagers: - static_configs: - targets: # - alertmanager:9093 # Load rules once and periodically evaluate them according to the global &#39;evaluation_interval&#39;. rule_files: - &quot;first_rules.yml&quot; # - &quot;second_rules.yml&quot; # A scrape configuration containing exactly one endpoint to scrape: # Here it&#39;s Prometheus itself. scrape_configs: # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config. - job_name: &#39;prometheus&#39; # metrics_path defaults to &#39;/metrics&#39; # scheme defaults to &#39;http&#39;. static_configs: - targets: [&#39;localhost:9090&#39;] - job_name: linux static_configs: - targets: [&#39;192.168.5.71:9100&#39;] labels: group: &quot;bbb&quot; - job_name: &#39;test&#39; file_sd_configs: - files: [&#39;/usr/local/prometheus/test_sd_config/*.yml&#39;] refresh_interval: 5s å¯åŠ¨ prometheus: nohup ./prometheus --config.file=prometheus.yml &amp; åˆ›å»º /usr/local/prometheus/test_sd_config/test.yml å¦‚ä¸‹ - targets: [ &quot;192.168.5.75:9100&quot; ] labels: group: &quot;aaa&quot; 5så†…å°±ä¼šè‡ªåŠ¨è¯»å– test.yml å¹¶æ·»åŠ æ–°çš„ç›®æ ‡ã€‚å¯ç”¨æµè§ˆå™¨æ‰“å¼€Prometheus 9090 ç«¯å£,æŸ¥çœ‹ Status ä¸­çš„ Configuration, Targets, Service Discovery,å¯ä»¥çœ‹åˆ°æ–°æ·»åŠ çš„ç›®æ ‡ã€‚ å»æ‰å¯¼èˆªæ åœ¨Grafanaé¡µé¢ä¸­ï¼ŒæŒ‰F12æ‰“å¼€æ§åˆ¶å°ï¼Œçœ‹sourceä¸­åŠ è½½çš„cssæ–‡ä»¶ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªå¸¦æ•°å­—çš„cssï¼ˆå¥½åƒæ˜¯ä¸€å…±æœ‰ä¸¤ä¸ªcssï¼Œå…¶ä¸­ä¸€ä¸ªï¼‰ï¼Œå»linuxä¸­çš„public/cssæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ç›¸åº”çš„cssæ–‡ä»¶ï¼Œå‰é¢åŠ ä¸Š .navbar-inner{display:none}; ç„¶åé‡å¯GrafanaæœåŠ¡ï¼ˆä¸€å®šè¦å…³æ‰æœåŠ¡ï¼Œä¸ç„¶ä¸èƒ½åŠ è½½å‡ºä¿®æ”¹çš„cssï¼‰ æœ‰å…³äºPrometheusçš„ä»‹ç»ã€æ¦‚å¿µã€ä½¿ç”¨ç­‰å…·ä½“é—®é¢˜è¯·å‚è€ƒä¸‹é¢ç½‘å€ï¼šPrometheuså®˜ç½‘ æœ‰å…³äºGrafanaçš„ä»‹ç»ã€æ¦‚å¿µã€ä½¿ç”¨ç­‰å…·ä½“é—®é¢˜è¯·å‚è€ƒä¸‹é¢ç½‘å€:Grafanaå®˜ç½‘","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"é€šè¿‡Rancherå®‰è£…K8s","slug":"rancher-install-k8s","date":"2020-08-01T05:14:19.000Z","updated":"2020-08-01T11:21:36.340Z","comments":true,"path":"rancher-install-k8s/","link":"","permalink":"/rancher-install-k8s/","excerpt":"","text":"ç¯å¢ƒå‡†å¤‡1.hostvi /etc/hosts ç”±ä¸Šå›¾å¯çŸ¥ï¼Œé‡‡ç”¨äº†ä¸‰ä¸ªèŠ‚ç‚¹æ¥éƒ¨ç½²k8sï¼Œä¸€ä¸ªmasterä¸»èŠ‚ç‚¹ï¼Œä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚ä¸»èŠ‚ç‚¹è´Ÿè´£è°ƒåº¦ï¼Œå­èŠ‚ç‚¹è´Ÿè´£å¤„ç†ä»»åŠ¡ã€‚ 2.å…³é—­swapåˆ†åŒºã€é˜²ç«å¢™ã€SElinux# k8sè¦æ±‚å…³é—­swap (qxl) swapoff -a &amp;&amp; sysctl -w vm.swappiness=0 # å…³é—­swap sed -ri &#39;/^[^#]*swap/s@^@#@&#39; /etc/fstab # å–æ¶ˆå¼€æœºæŒ‚è½½swap systemctl disable --now firewalld # å…³é—­é˜²ç«å¢™ # å…³é—­SElinux setenforce 0 sed -i &#39;s/^SELINUX=enforcing$/SELINUX=permissive/&#39; /etc/selinux/config 3.å®‰è£…dockerdockerå®‰è£…å®˜æ–¹æ–‡æ¡£ # å¸è½½åŸæ¥çš„docker sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine # å®‰è£…ä¾èµ– sudo yum update -y &amp;&amp; sudo yum install -y yum-utils \\ device-mapper-persistent-data \\ lvm2 # æ·»åŠ å®˜æ–¹yumåº“ sudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo # å®‰è£…docker sudo yum install docker-ce docker-ce-cli containerd.io # æŸ¥çœ‹dockerç‰ˆæœ¬ docker --version # å¼€æœºå¯åŠ¨ systemctl enable --now docker å®‰è£…rancherå®˜æ–¹å®‰è£…æ–‡æ¡£ å¯¹äºå­¦ä¹ k8sæ¥è¯´æˆ‘ä»¬é€‰æ‹©æ–¹æ¡ˆA-ä½¿ç”¨é»˜è®¤è‡ªç­¾åè¯ä¹¦å°±å¯ä»¥ã€‚ docker run -d --restart=unless-stopped \\ -p 80:80 -p 443:443 \\ -v &lt;ä¸»æœºè·¯å¾„&gt;:/var/lib/rancher/ \\ -v /root/var/log/auditlog:/var/log/auditlog \\ -e AUDIT_LEVEL=3 \\ rancher/rancher:stable (æˆ–è€…rancher/rancher:latest) å¦‚æœä¸æƒ³ç”¨æœ€æ–°çš„rancherï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹ç‰ˆæœ¬ï¼š docker run -d --restart=unless-stopped -p 80:80 -p 443:443 rancher/rancher:v2.2.5 åˆ©ç”¨rancheræ­å»ºk8så®‰è£…å®Œæˆåï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸Šè®¿é—®ä½ çš„ä¸»æœºipå°±å¯ä»¥ã€‚ï¼ˆå»ºè®®ä½¿ç”¨ç«ç‹æµè§ˆå™¨ï¼Œè°·æ­Œå› ä¸ºè¯ä¹¦ç­‰åŸå› æ— æ³•æ‰“å¼€ï¼‰ è®¾ç½®å¯†ç å¹¶è¿›å…¥ä¸‹ä¸€æ­¥ã€‚ ç¡®è®¤rancherç®¡ç†åœ°å€ã€‚ é€‰æ‹©æ·»åŠ é›†ç¾¤ã€‚ é€‰æ‹©customã€‚ å¯¹é›†ç¾¤èµ·ä¸ªåå­—ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©flannelç½‘ç»œç»„ä»¶ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚æ¥ã€‚ åœ¨ä¸»èŠ‚ç‚¹æˆ‘é€‰æ‹©äº†etcdä¸controlé€‰é¡¹ï¼Œå¤åˆ¶ç”Ÿæˆçš„å‘½ä»¤åœ¨ä¸»èŠ‚ç‚¹è¿è¡Œã€‚å­èŠ‚ç‚¹é€‰æ‹©workeré€‰é¡¹ï¼Œå¤åˆ¶ç”Ÿæˆçš„å‘½ä»¤åœ¨å­èŠ‚ç‚¹è¿è¡Œã€‚ æ¥ä¸‹æ¥å°±ç­‰å¾…é›†ç¾¤è‡ªåŠ¨å»ºæˆï¼Œæ—¶é—´ç•¥é•¿ï¼Œå»ºè®®å–æ¯å’–å•¡ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"GitHubå›¾ç‰‡ä¸æ˜¾ç¤ºé—®é¢˜è§£å†³","slug":"github-img-don-t-show","date":"2020-08-01T02:13:19.000Z","updated":"2020-08-01T06:00:23.374Z","comments":true,"path":"github-img-don-t-show/","link":"","permalink":"/github-img-don-t-show/","excerpt":"","text":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Githubä¸Šçš„å›¾ç‰‡ä¸æ˜¾ç¤ºè¿™ä¸ªé—®é¢˜å›°æ‰°æˆ‘å¥½ä¹…äº†ï¼Œä¹‹å‰ä¸€ç›´è§‰å¾—ç”¨ä¸å¤ªåˆ°ï¼Œä¹Ÿå°±æ²¡è§£å†³ï¼Œä»Šå¤©åœ¨å†™é€šè¿‡Rancherå®‰è£…k8sè¿™ç¯‡åšå®¢æ—¶æ‰å‘ç°ä¸å¾—ä¸è§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡è°·æ­Œï¼Œåšä¸»john-zengè¿™æ ·è§£é‡Šé“ï¼š å®é™…ä¸Šï¼Œå¯ä»¥è®¤ä¸ºï¼ŒERR_CERT_COMMON_NAME_INVALIDå°±æ˜¯ç”¨ä¸€ä¸ªé”™è¯¯çš„åŸŸåè®¿é—®äº†æŸä¸ªèŠ‚ç‚¹çš„httpsèµ„æºã€‚å¯¼è‡´è¿™ä¸ªé”™è¯¯çš„åŸå› ï¼ŒåŸºæœ¬æ˜¯ï¼š dnsæ±¡æŸ“ hostè®¾ç½®é”™è¯¯ å®˜æ–¹æ›´æ–°äº†dnsï¼Œä½†æ˜¯dnsç¼“å­˜æ²¡æœ‰è¢«æ›´æ–°ï¼Œå¯¼è‡´é”™è¯¯è§£æã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦æœ¬åœ°hostsæ–‡ä»¶å¯¹ç½‘ç«™è¿›è¡ŒåŸŸåè§£æï¼ŒWindowsç³»ç»Ÿhostsæ–‡ä»¶ä½ç½®ï¼šC:\\Windows\\System32\\drivers\\etc\\hostsï¼Œåœ¨hostsæ–‡ä»¶ä¸­æ·»åŠ  # GitHub Start 140.82.113.3 github.com 140.82.114.20 gist.github.com 151.101.184.133 assets-cdn.github.com 151.101.184.133 raw.githubusercontent.com 151.101.184.133 gist.githubusercontent.com 151.101.184.133 cloud.githubusercontent.com 151.101.184.133 camo.githubusercontent.com 151.101.184.133 avatars0.githubusercontent.com 199.232.68.133 avatars0.githubusercontent.com 199.232.28.133 avatars1.githubusercontent.com 151.101.184.133 avatars1.githubusercontent.com 151.101.184.133 avatars2.githubusercontent.com 199.232.28.133 avatars2.githubusercontent.com 151.101.184.133 avatars3.githubusercontent.com 199.232.68.133 avatars3.githubusercontent.com 151.101.184.133 avatars4.githubusercontent.com 199.232.68.133 avatars4.githubusercontent.com 151.101.184.133 avatars5.githubusercontent.com 199.232.68.133 avatars5.githubusercontent.com 151.101.184.133 avatars6.githubusercontent.com 199.232.68.133 avatars6.githubusercontent.com 151.101.184.133 avatars7.githubusercontent.com 199.232.68.133 avatars7.githubusercontent.com 151.101.184.133 avatars8.githubusercontent.com 199.232.68.133 avatars8.githubusercontent.com # GitHub End &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¿®æ”¹å®Œhostsæ–‡ä»¶åå†åˆ·æ–°ä¸‹DNSç¼“å­˜å°±å¤§åŠŸå‘Šæˆå•¦ï¼Œåˆ·æ–°DNSç¼“å­˜å‘½ä»¤ä¸ºipconfig /flushdnsï¼Œè¿™é‡Œçš„å‘½ä»¤éœ€è¦åœ¨CMDä¸­è¿è¡Œï¼Œåšåˆ°è¿™é‡Œå°±å¯ä»¥æ­å–œä½ å¯ä»¥ç»§ç»­åœ¨GitHubä¸Šæ„‰å¿«çš„ç©è€äº†ï¼šï¼‰ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]}]}